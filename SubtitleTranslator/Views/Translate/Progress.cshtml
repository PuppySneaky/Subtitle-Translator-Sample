@{
    ViewData["Title"] = "Translation in Progress";
}

<div class="container">
    <div class="row justify-content-center">
        <div class="col-md-8">
            <div class="card shadow">
                <div class="card-header bg-primary text-white">
                    <h4 class="mb-0">
                        <i class="fas fa-cog fa-spin me-2"></i>
                        Translation in Progress
                    </h4>
                </div>
                <div class="card-body text-center">
                    <div class="mb-4">
                        <div class="spinner-border text-primary" role="status" style="width: 3rem; height: 3rem;">
                            <span class="visually-hidden">Loading...</span>
                        </div>
                    </div>

                    <h5 class="mb-3">Processing your subtitle file...</h5>

                    <div class="progress mb-3" style="height: 25px;">
                        <div class="progress-bar progress-bar-striped progress-bar-animated"
                             role="progressbar"
                             style="width: 0%"
                             id="translationProgress">
                            0%
                        </div>
                    </div>

                    <p class="text-muted mb-0" id="progressStatus">
                        Initializing translation process...
                    </p>

                    <div class="alert alert-info mt-4">
                        <i class="fas fa-info-circle me-2"></i>
                        <strong>Please wait:</strong> Large files may take several minutes to process.
                        Do not close this page until translation is complete.
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<script>
    // Auto-refresh to check translation status
    let progressInterval;

    function updateProgress() {
        // This would typically connect to a SignalR hub or polling endpoint
        // For now, we'll simulate progress
        setTimeout(() => {
            window.location.href = '@Url.Action("Translate")';
        }, 2000);
    }

    $(document).ready(function() {
        updateProgress();
    });
</script>

<style>
    .progress {
        border-radius: 15px;
        overflow: hidden;
    }

    .progress-bar {
        border-radius: 15px;
        transition: width 0.6s ease;
    }

    .spinner-border {
        animation: spinner-border 0.75s linear infinite;
    }
</style>